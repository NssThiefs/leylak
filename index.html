<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Sana √ñzel... ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700;800&family=Pacifico&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* --- 1. GENEL ATMOSFER --- */
        :root {
            --primary: #ff2e63;
            --secondary: #08d9d6;
            --success: #2ecc71;
            --bg-dark: #0a0a12;
            --glass: rgba(20, 20, 30, 0.75);
            --border: rgba(255, 255, 255, 0.15);
            --active-lyric: #ffffff;
            --inactive-lyric: #777;
        }

        body {
            margin: 0; padding: 0;
            background-color: var(--bg-dark);
            font-family: 'Montserrat', sans-serif;
            height: 100vh; overflow: hidden;
            display: flex; justify-content: center; align-items: center;
            color: white; user-select: none; -webkit-tap-highlight-color: transparent;
        }

        /* --- 2. CANLI ARKA PLAN --- */
        .background-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -10; transition: opacity 2s ease-in-out; opacity: 0;
            background-size: cover; pointer-events: none;
        }
        #bg-level-0 { opacity: 1; background: radial-gradient(circle, #1a1a2e 0%, #000000 100%); }
        #bg-level-1 { background: linear-gradient(to top, #0f2027, #203a43, #2c5364); }
        #bg-level-2 { background: linear-gradient(to top, #1a2980, #26d0ce); }
        #bg-level-3 { background: linear-gradient(to top, #00c6ff, #0072ff); }
        #bg-level-4 { background: linear-gradient(to top, #ff9a9e, #fad0c4); }

        .sea-creature { position: absolute; font-size: 2.5rem; opacity: 0.8; z-index: -5; pointer-events: none; filter: drop-shadow(0 0 15px rgba(255,255,255,0.3)); }
        .particle { position: absolute; background: rgba(255,255,255,0.4); border-radius: 50%; pointer-events: none; z-index: -6; animation: floatUp linear infinite; }
        @keyframes floatUp { 0% { transform: translateY(110vh) scale(0.5); opacity: 0; } 100% { transform: translateY(-10vh) scale(1.2); opacity: 0; } }
        @keyframes swimLeft { from { left: 110vw; transform: scaleX(1); } to { left: -10vw; transform: scaleX(1); } }
        @keyframes swimRight { from { left: -10vw; transform: scaleX(-1); } to { left: 110vw; transform: scaleX(-1); } }

        /* --- 3. ANA KUTU --- */
        .container {
            width: 500px; max-width: 95%; max-height: 85vh;
            background: var(--glass);
            padding: 40px; border-radius: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.6), inset 0 0 0 1px var(--border);
            backdrop-filter: blur(20px);
            position: absolute; z-index: 10;
            display: flex; flex-direction: column; align-items: center;
            opacity: 0; transform: translateY(150px) scale(0.9);
            pointer-events: none; transition: none;
            overflow-y: auto; scrollbar-width: none;
        }
        .container::-webkit-scrollbar { display: none; }
        .container.active { opacity: 1; transform: translateY(0) scale(1); pointer-events: all; animation: popUp 0.7s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }
        .container.sinking { animation: sinkDown 0.7s ease-in forwards; }
        @keyframes popUp { from { opacity: 0; transform: translateY(150px) scale(0.9); } to { opacity: 1; transform: translateY(0) scale(1); } }
        @keyframes sinkDown { from { opacity: 1; transform: translateY(0) scale(1); } to { opacity: 0; transform: translateY(150px) scale(0.9); filter: blur(10px); } }

        /* --- 4. UI ELEMANLARI --- */
        h1 { font-family: 'Pacifico', cursive; color: var(--secondary); font-size: 2.2rem; margin: 0 0 20px 0; text-align: center; text-shadow: 0 0 20px rgba(8, 217, 214, 0.4); }
        p { color: #eee; margin-bottom: 25px; font-weight: 500; font-size: 1.1rem; text-align: center; line-height: 1.6; }
        .btn {
            background: white; color: black; border: none; padding: 15px 40px;
            border-radius: 50px; font-size: 1.1rem; cursor: pointer;
            font-weight: 700; letter-spacing: 1px; transition: all 0.2s; margin-top: 10px; flex-shrink: 0;
        }
        .btn:hover { transform: scale(1.05); background: var(--secondary); color: white; box-shadow: 0 0 20px var(--secondary); }

        /* --- 5. √ñZEL: EVET / HAYIR SAHNESƒ∞ --- */
        #btnArea { 
            width: 100%; height: 350px; position: relative; 
            border: 1px dashed rgba(255,255,255,0.1); border-radius: 20px; 
            display: flex; justify-content: center; align-items: center; 
            overflow: hidden; touch-action: none;
        }
        
        /* Her ƒ∞ki Butonun Ortak Boyut ve ≈ûekil Ayarƒ± */
        #yesBtn, #noBtn {
            width: 180px; 
            height: 60px;
            border-radius: 50px;
            font-size: 1.5rem;
            font-weight: 800;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 2px solid rgba(255,255,255,0.8);
            cursor: pointer;
            color: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.4);
            box-sizing: border-box;
        }

        /* Sabit ve ≈ûƒ±k EVET Butonu */
        #yesBtn {
            position: relative; z-index: 10;
            background: linear-gradient(135deg, #11998e, #38ef7d); /* Canlƒ± Ye≈üil Gradient */
            box-shadow: 0 5px 20px rgba(56, 239, 125, 0.5); 
            animation: elegantPulse 2s infinite alternate; transition: 0.3s;
        }
        #yesBtn:hover, #yesBtn:active { transform: scale(0.95); box-shadow: 0 2px 10px rgba(56, 239, 125, 0.6); }
        @keyframes elegantPulse { 0% { transform: scale(1); box-shadow: 0 5px 20px rgba(56, 239, 125, 0.4); } 100% { transform: scale(1.05); box-shadow: 0 8px 30px rgba(56, 239, 125, 0.6); } }

        /* Ka√ßan G√∂z Alƒ±cƒ± HAYIR Butonu */
        #noBtn {
            position: absolute; z-index: 20; 
            background: linear-gradient(135deg, #ff2e63, #d90845); /* Canlƒ± Pembe/Kƒ±rmƒ±zƒ± Gradient */
            box-shadow: 0 5px 20px rgba(255, 46, 99, 0.5);
        }
        #noBtn.escaping { transition: top 0.1s ease-out, left 0.1s ease-out; }

        /* --- 6. OYUNLAR & Kƒ∞Lƒ∞T --- */
        .word-container { display: flex; justify-content: center; gap: 8px; margin: 30px 0; width: 100%; flex-wrap: wrap; }
        .letter-box { width: 45px; height: 55px; border-bottom: 3px solid #555; display: flex; justify-content: center; align-items: center; font-size: 2rem; font-weight: 700; color: white; text-transform: uppercase; transition: 0.3s; }
        .letter-box.filled { border-color: var(--success); color: var(--success); text-shadow: 0 0 15px var(--success); animation: bounceIn 0.4s; }
        @keyframes bounceIn { 0% { transform: scale(0); } 70% { transform: scale(1.2); } 100% { transform: scale(1); } }
        
        .keyboard { display: grid; grid-template-columns: repeat(8, 1fr); gap: 6px; width: 100%; margin-top: 20px; }
        .key { background: rgba(255,255,255,0.1); padding: 12px 0; border-radius: 6px; cursor: pointer; font-weight: 600; text-align: center; border: 1px solid rgba(255,255,255,0.1); transition: 0.2s; }
        .key.correct { background: var(--success) !important; color: white !important; border-color: var(--success) !important; pointer-events: none; box-shadow: 0 0 15px var(--success); }
        .key.wrong { background: #333; color: #777; opacity: 0.6; pointer-events: none; }

        #lockScreen { z-index: 1000; }
        input[type="password"] { padding: 15px; border-radius: 10px; border: 1px solid #444; background: #1a1a1a; color: white; text-align: center; font-size: 1.5rem; width: 80%; margin-bottom: 10px; letter-spacing: 5px; }

        .puzzle-wrapper { display: flex; justify-content: center; margin-bottom: 20px; width: 100%; }
        .puzzle-container { display: grid; grid-template-columns: repeat(3, 1fr); gap: 2px; border: 2px solid white; box-shadow: 0 0 30px rgba(0,0,0,0.5); margin: 0 auto; }
        .puzzle-piece { width: 100%; height: 100%; cursor: pointer; transition: transform 0.2s, filter 0.2s, box-shadow 0.2s; }
        .puzzle-piece:hover { filter: brightness(1.2); transform: scale(1.05); z-index: 5; box-shadow: 0 0 15px rgba(255,255,255,0.5); }
        .puzzle-piece.selected { transform: scale(0.95); border: 2px solid var(--primary); z-index: 10; box-shadow: 0 0 20px var(--primary); }
        .full-image { border-radius: 10px; border: 2px solid white; display: none; margin: 0 auto; }

        .video-wrapper iframe { width: 100%; height: 280px; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.5); border: none; background: #000; }

        /* --- 7. Sƒ∞NEMA MODU (STAGE 6) --- */
        #stage6-wrapper { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 50; display: none; flex-direction: row; background: rgba(0,0,0,0.4); }
        .credits-lane { flex: 1; height: 100%; overflow: hidden; position: relative; background: linear-gradient(to right, rgba(0,0,0,0.8), transparent); display: flex; justify-content: center; }
        .credits-scroll { width: 80%; max-width: 600px; position: absolute; top: 100%; display: flex; flex-direction: column; align-items: center; gap: 80px; }
        .credit-card { background: white; padding: 15px 15px 50px 15px; transform: rotate(-2deg); box-shadow: 0 20px 60px rgba(0,0,0,0.6); }
        .credit-card:nth-child(even) { transform: rotate(2deg); }
        .credit-img { width: 350px; height: auto; display: block; }
        .credit-note { color: #333; font-family: 'Pacifico', cursive; font-size: 1.5rem; margin-top: 15px; text-align: center; }
        .lyrics-panel { width: 450px; height: 100%; background: rgba(10, 10, 20, 0.85); border-left: 1px solid rgba(255,255,255,0.1); padding: 100px 40px 150px 40px; box-sizing: border-box; overflow-y: auto; text-align: center; }

        /* --- 8. Fƒ∞NAL & LYRICS --- */
        #stage7 { width: 600px; max-width: 95%; justify-content: flex-start; }
        .final-lyrics-box { width: 100%; height: 380px; overflow-y: auto; background: rgba(255,255,255,0.05); border-radius: 20px; padding: 25px; text-align: center; font-size: 1.1rem; line-height: 2.2; color: var(--inactive-lyric); border: 1px solid rgba(255,255,255,0.1); margin-bottom: 100px; transition: 0.3s; scroll-behavior: smooth; }
        .final-lyrics-box::-webkit-scrollbar { width: 6px; }
        .final-lyrics-box::-webkit-scrollbar-thumb { background: #444; border-radius: 3px; }
        .lyric-line { transition: 0.3s; transform: scale(1); filter: blur(0.5px); margin-bottom: 10px; }
        .lyric-line.active { color: var(--active-lyric); font-weight: 700; transform: scale(1.15); filter: blur(0); text-shadow: 0 0 15px rgba(255,255,255,0.6); }
        .download-links { margin-top: 20px; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;}
        .dl-btn { padding: 10px 25px; border: 1px solid #555; border-radius: 30px; color: #ccc; background: transparent; text-decoration: none; font-size: 0.9rem; transition: 0.3s; display: flex; align-items: center; gap: 8px; cursor: pointer; }
        .dl-btn:hover { border-color: var(--secondary); color: var(--secondary); background: rgba(255,255,255,0.05); transform: scale(1.05); }

        /* --- 9. Mƒ∞Nƒ∞MALƒ∞ST PLAYER --- */
        .fixed-player {
            position: fixed; bottom: -120px; left: 0; width: 100%; height: 90px;
            background: rgba(10, 10, 15, 0.95); border-top: 1px solid #282828; z-index: 99999;
            display: flex; align-items: center; justify-content: space-between; padding: 0 50px; box-sizing: border-box;
            box-shadow: 0 -10px 30px rgba(0,0,0,0.5); transition: bottom 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        .fixed-player.visible { bottom: 0; }
        .player-left { width: 30%; display: flex; align-items: center; gap: 15px; }
        .player-art { width: 50px; height: 50px; background: #222; border-radius: 4px; display: flex; justify-content: center; align-items: center; font-size: 1.5rem; flex-shrink: 0;}
        .player-info h4 { margin: 0; font-size: 0.9rem; color: white; font-weight: 600; text-align: left; }
        .player-info p { margin: 0; font-size: 0.7rem; color: #b3b3b3; text-align: left; }
        .player-center { width: 40%; display: flex; flex-direction: column; align-items: center; gap: 5px; }
        .play-pause-btn { width: 45px; height: 45px; border-radius: 50%; background: white; color: black; border: none; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; cursor: pointer; transition: transform 0.2s; }
        .play-pause-btn:hover { transform: scale(1.1); }
        .progress-wrapper { width: 100%; display: flex; align-items: center; gap: 10px; font-size: 0.7rem; color: #b3b3b3; }
        input[type=range] { -webkit-appearance: none; width: 100%; background: transparent; cursor: pointer; }
        input[type=range]:focus { outline: none; }
        input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 3px; background: #535353; border-radius: 2px; }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 10px; width: 10px; border-radius: 50%; background: white; margin-top: -3.5px; opacity: 0; transition: opacity 0.2s; }
        .progress-wrapper:hover input[type=range]::-webkit-slider-runnable-track { background: #1db954; }
        .progress-wrapper:hover input[type=range]::-webkit-slider-thumb { opacity: 1; }
        .player-right { width: 30%; display: flex; justify-content: flex-end; align-items: center; gap: 10px; }
        .volume-icon { color: #b3b3b3; font-size: 1rem; }
        .volume-slider { width: 80px !important; }

        .hidden { display: none !important; }
        .scroll-icon { font-size: 3rem; animation: bounce 2s infinite; cursor: pointer; margin-top: 20px; }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% {transform: translateY(0);} 40% {transform: translateY(-15px);} 60% {transform: translateY(-7px);} }
        .shake { animation: shake 0.5s; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-15px); } 75% { transform: translateX(15px); } }

        /* --- 10. MOBƒ∞L UYUMLULUK --- */
        @media (max-width: 768px) {
            .container { padding: 25px; width: 92%; max-height: 90vh; }
            h1 { font-size: 1.8rem; } p { font-size: 0.95rem; }
            .letter-box { width: 35px; height: 45px; font-size: 1.5rem; }
            
            .fixed-player { padding: 0 15px; height: 110px; flex-direction: column; justify-content: center; gap: 5px; }
            .player-left { width: 100%; justify-content: flex-start; margin-bottom: 5px; }
            .player-center { width: 100%; flex-direction: row; gap: 15px; }
            .player-right { display: none; } 
            .progress-wrapper { flex: 1; }
            .play-pause-btn { width: 35px; height: 35px; font-size: 1rem; }

            #stage6-wrapper { flex-direction: column; }
            .lyrics-panel { width: 100%; height: 30%; order: 2; padding: 15px; border-left: none; border-top: 1px solid rgba(255,255,255,0.1); }
            .credits-lane { height: 70%; order: 1; }
            .lyrics-panel h2 { display: none; }
            .side-lyric-text { font-size: 0.85rem; line-height: 1.6; }
            
            .credit-card { max-width: 280px; padding: 10px 10px 30px 10px; }
            .credit-img { width: 260px; height: 260px; }
            .credit-note { font-size: 1.2rem; }
            
            .download-links { flex-direction: column; align-items: center; }
        }
    </style>
</head>
<body>

    <audio id="bgMusic" loop>
        <source src="bensarhosoldum.mp3" type="audio/mpeg">
    </audio>

    <div id="bg-level-0" class="background-layer" style="opacity: 1;"></div>
    <div id="bg-level-1" class="background-layer"></div>
    <div id="bg-level-2" class="background-layer"></div>
    <div id="bg-level-3" class="background-layer"></div>
    <div id="bg-level-4" class="background-layer"></div>
    
    <div id="seaLife"></div>
    <div id="particles"></div>

    <div class="fixed-player" id="musicPlayer">
        <div class="player-left">
            <div class="player-art">ü™º</div>
            <div class="player-info">
                <h4>Ben Sarho≈ü Oldum</h4>
                <p>Sana √ñzel...</p>
            </div>
        </div>
        <div class="player-center">
            <button class="play-pause-btn" onclick="togglePlay()"><i id="playIcon" class="fas fa-play"></i></button>
            <div class="progress-wrapper">
                <span id="currentTime">0:00</span>
                <input type="range" id="progressBar" value="0" step="0.1">
                <span id="duration">0:00</span>
            </div>
        </div>
        <div class="player-right">
            <i class="fas fa-volume-up volume-icon" style="color:#aaa;"></i>
            <input type="range" id="volumeBar" class="volume-slider" value="1" max="1" step="0.05">
        </div>
    </div>

    <div id="lockScreen" class="container active">
        <h1 style="font-size:3rem; margin-bottom:10px;">üîí</h1>
        <h1>Giri≈ü Yap</h1>
        <p id="passwordHint" style="font-size: 0.85rem; color: #aaa; margin-bottom: 20px; font-style: italic;">
            ƒ∞pucu: Bisikletimin ≈üifresi ve √∂zel bir tarih..
        </p>
        <input type="password" id="passwordInput" placeholder="****">
        <button class="btn" onclick="checkSecurity()">Gƒ∞Rƒ∞≈û</button>
        <p id="lockError" style="color: #ff4757; display: none; margin-top:10px;">Hatalƒ± ≈ûifre!</p>
    </div>

    <div id="stage0" class="container">
        <h1>Anƒ±lara Yolculuk</h1>
        <p>Yukarƒ±da seni bekleyen bir okyanus var...</p>
        <div style="font-size: 5rem; margin: 20px;">ü§ø</div>
        <div class="scroll-icon" onclick="startJourney()">‚òùÔ∏è</div>
    </div>

    <div id="stage1" class="container">
        <h1>Bizi Ne Kadar Tanƒ±yorsun?</h1>
        <div id="lives" style="font-size: 1.5rem; margin-bottom: 20px; color:var(--primary);">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
        <p id="questionText" style="color:#aaa; font-style:italic;">Y√ºkleniyor...</p>
        <div id="wordDisplay" class="word-container"></div>
        <div id="keyboard" class="keyboard"></div>
    </div>

    <div id="stage2" class="container">
        <h1>Son Kararƒ±n Mƒ±?</h1>
        <p>Her ≈üeye raƒümen devam etmek istiyor musun?</p>
        <div id="btnArea">
            <button id="yesBtn" onclick="nextStage(3)">EVET!</button>
            <button id="noBtn">HAYIR</button>
        </div>
    </div>

    <div id="stage3" class="container">
        <h1>Anƒ±larƒ± Birle≈ütir (1/2)</h1>
        <p>Par√ßalara tƒ±kla ve yerlerini deƒüi≈ütir.</p>
        <div class="puzzle-wrapper"><div class="puzzle-container" id="puzzle1"></div></div>
        <img src="" class="full-image" id="fullImage1">
        <br><button class="btn hidden" id="puzzleNext1" onclick="nextStage(4)">DEVAM ET</button>
    </div>

    <div id="stage4" class="container">
        <h1>Anƒ±larƒ± Birle≈ütir (2/2)</h1>
        <p>Son par√ßa...</p>
        <div class="puzzle-wrapper"><div class="puzzle-container" id="puzzle2"></div></div>
        <img src="" class="full-image" id="fullImage2">
        <br><button class="btn hidden" id="puzzleNext2" onclick="nextStage(5)">S√úRPRƒ∞ZE Gƒ∞T</button>
    </div>

    <div id="stage5" class="container">
        <h1>Zirve...</h1>
        <p>ƒ∞yi ki varsƒ±n. Bu senin i√ßin...</p>
        <div class="video-wrapper" style="width:100%;">
            <iframe id="finalVideo" src="https://drive.google.com/file/d/1i4KlAR2AMJXv7c_JtAY4-K3jyRxkP1jI/preview" allow="autoplay" allowfullscreen></iframe>
        </div>
        <button id="stage5Btn" class="btn" style="margin-top: 30px;" onclick="startCredits()">ƒ∞ZLEMEYƒ∞ Bƒ∞Tƒ∞RDƒ∞M</button>
    </div>

    <div id="stage6-wrapper">
        <div class="credits-lane">
            <div class="credits-scroll" id="creditsScroll"></div>
        </div>
        <div class="lyrics-panel">
            <h2 style="font-family:'Pacifico',cursive; color:var(--secondary); text-align:center; margin-bottom:30px;">S√∂zler</h2>
            <div id="sideLyrics" style="font-size:0.9rem; line-height:2; color:#aaa; text-align:center;"></div>
        </div>
    </div>

    <div id="stage7" class="container">
        <h1 style="font-size:3rem; margin-top:0;">‚ù§Ô∏è</h1>
        <h1>ƒ∞yi ki Varsƒ±n</h1>
        <p>Kendine √ßok dikkat et...</p>
        <div style="width:100%; height:1px; background:rgba(255,255,255,0.2); margin:15px 0;"></div>
        
        <div class="final-lyrics-box" id="finalLyricsBox"></div>
        
        <div class="download-links">
            <a href="https://drive.google.com/file/d/1i4KlAR2AMJXv7c_JtAY4-K3jyRxkP1jI/view?usp=drive_link" target="_blank" class="dl-btn"><i class="fas fa-video"></i> Videoyu ƒ∞ndir</a>
            
            <a href="bensarhosoldum.mp3" download class="dl-btn"><i class="fas fa-music"></i> M√ºziƒüi ƒ∞ndir</a>
            <button onclick="goBackToVideo()" class="dl-btn"><i class="fas fa-undo"></i> Videoya D√∂n</button>
        </div>
    </div>

    <script>
        const sitePassword = "1401";
        const questions = [
            { q: "ƒ∞lk adam akƒ±llƒ± konu≈ütuƒüumuz yer?", a: "latife" },
            { q: "Beraber yaptƒ±ƒüƒ±mƒ±z en g√ºzel yemek?", a: "pizza" },
            { q: "Sana seslenmeyi en sevdiƒüim iltifat?", a: "balƒ±m" },
            { q: "Beni ne kadar seviyorsun?", a: "az √ßok" }
        ];
        
        const puzzlePhotos = [
            "resim1.jpeg",
            "resim2.jpeg"
        ];

        // 30 ADET ƒ∞LTƒ∞FAT Dƒ∞Zƒ∞Sƒ∞
        const compliments = [
            "Balƒ±m", "Canƒ±m", "A≈ükƒ±m", "Bitanem", "Her ≈ûeyim",
            "G√∂zbebeƒüim", "Nefesim", "Hayatƒ±mƒ±n Anlamƒ±", "G√∂nl√ºm√ºn Sultanƒ±", "Meleƒüim",
            "G√ºne≈üim", "Ay I≈üƒ±ƒüƒ±m", "Yƒ±ldƒ±zƒ±m", "Sevgilim", "Ruhum",
            "Canƒ±mƒ±n ƒ∞√ßi", "ƒ∞lk ve Son A≈ükƒ±m", "Kalbimin Sahibi", "G√ºzelliƒüim", "Cennetim",
            "√ñmr√ºm", "Ne≈üem", "Huzurum", "G√∂z√ºm√ºn Nuru", "Kƒ±ymetlim",
            "Hayalim", "Tek Ger√ßeƒüim", "≈ûansƒ±m", "Aptal Balƒ±ƒüƒ±m", "Sonsuzluƒüum"
        ];

        // KAPANI≈û FOTOƒûRAFLARI (resim3.jpeg'den resim32.jpeg'e kadar √ßeker, not olarak iltifatlarƒ± yazar)
        const creditPhotos = [];
        for(let i=0; i<30; i++) {
            creditPhotos.push({ img: `resim${i+3}.jpeg`, note: compliments[i] });
        }

        const lyricsData = [
            { time: 20, text: "Nereden bu sevda geldi ba≈üƒ±ma" },
            { time: 25, text: "Anƒ±larƒ±m sarho≈ü, ben sarho≈ü oldum" },
            { time: 30, text: "Hasretin karƒ±≈ütƒ± g√∂zya≈ülarƒ±ma" },
            { time: 35, text: "Seven kalbim sarho≈ü, ben sarho≈ü oldum" },
            { time: 40, text: "Hasretin karƒ±≈ütƒ± g√∂zya≈ülarƒ±ma" },
            { time: 45, text: "Seven kalbim sarho≈ü, ben sarho≈ü oldum" },
            { time: 51, text: "Dinlemedi g√∂nl√ºm bak ≈üimdi ne hallerdeyim" },
            { time: 53, text: "K√∂rd√º g√∂z√ºm t√ºm a≈üklara ≈üimdi g√∂rmediƒüim" },
            { time: 56, text: "Benim i√ßimde bir sen vardƒ±n birde sen sevdiƒüim" },
            { time: 59, text: "Ama ≈üimdi g√∂m√ºyorum hepsini buna son demeliyim" },
            { time: 61, text: "Bitti bak her ≈üey artƒ±k geri d√∂ner miyim" },
            { time: 64, text: "Bilmiyorum bak bunu sana ben s√∂yler miyim" },
            { time: 66, text: "Ama bildiƒüim tek bir ≈üey varsa o da senin kalbinin k√∂≈üelerinde benim i√ßin √∂lmediƒüin" },
            { time: 72, text: "√áok isterdim √ßi√ßeklerle tekrar kapƒ±na gelmeyi" },
            { time: 74, text: "Seni g√∂r√ºnce kucak dolusu sarƒ±lƒ±p √∂pebilmeyi" },
            { time: 77, text: "Bir kez daha olsun g√∂zlerine bakƒ±p" },
            { time: 79, text: "Seni ne kadar sevdiƒüimi s√∂yleyebilmeyi" },
            { time: 82, text: "ƒ∞nsanoƒülu bilmez mi hi√ß ne istediƒüini" },
            { time: 84, text: "Her ≈üeyini kaybedince ne kadar deƒüer verdiƒüini" },
            { time: 87, text: "Aklƒ±mda da fikrimde de bir tek sen varsƒ±n" },
            { time: 89, text: "Sevgilim ≈üimdi ufukta belki seni g√∂r√ºr gibiyim" },
            { time: 92, text: "Baktƒ±m maziye, ne mutluymu≈üum" },
            { time: 97, text: "Gelecekten nasƒ±l umutluymu≈üum" },
            { time: 102, text: "≈ûa≈ütƒ±m sanki, niye a≈üƒ±k olmu≈üum" },
            { time: 107, text: "Seven kalbim sarho≈ü, ben sarho≈ü oldum" },
            { time: 112, text: "≈ûa≈ütƒ±m sanki, niye a≈üƒ±k olmu≈üum" },
            { time: 117, text: "Seven kalbim sarho≈ü, ben sarho≈ü oldum" },
            { time: 124, text: " " },
            { time: 128, text: "Ben sarho≈ü oldum bak senin a≈ükƒ±nla" },
            { time: 130, text: "Yanƒ±yorum ≈üimdi i√ßimde kalan anƒ±larla" },
            { time: 133, text: "Tek bir ≈üans yeterdi belki bizi anlamaya" },
            { time: 135, text: "Ama her ≈üeyi hi√ß ettik ge√ßen bu iki yƒ±lda" },
            { time: 138, text: "ƒ∞nan kalbim kaldƒ±rmadƒ± bu ayrƒ±lƒ±ƒüƒ±da" },
            { time: 141, text: "Hala √ßok isterim sƒ±rtƒ±mƒ± sana yaslamayƒ±da" },
            { time: 143, text: "Ama bazƒ± ≈üeyler i√ßin sevgi yetersizmi≈ü" },
            { time: 145, text: "Bunu en iyi ben anladƒ±m sana da anlatƒ±yorum g√ºzelim anla" },
            { time: 148, text: "Kimse √ºz√ºlerek bakmasƒ±n bana" },
            { time: 153, text: "Acƒ± ge√ßmi≈üimi sormasƒ±n bana" },
            { time: 158, text: "Kimse √ºz√ºlerek bakmasƒ±n bana" },
            { time: 163, text: "Acƒ± ge√ßmi≈üimi sormasƒ±n bana" },
            { time: 168, text: "Bir tek kadeh bile i√ßmeden daha" },
            { time: 173, text: "Seven kalbim sarho≈ü, ben sarho≈ü oldum" },
            { time: 178, text: "Seven kalbim sarho≈ü, ben sarho≈ü oldu" },
            { time: 186, text: " " },
            { time: 188, text: "Seni Ger√ßekten √áok Seviyorum" },
            { time: 190, text: "Ve Bunu Bilmeni Ger√ßekten √áok ƒ∞stiyorum" },
            { time: 193, text: "Ama Bazƒ± ≈ûeylerin Doƒüru Olanƒ±nƒ±n Olmasƒ±" },
            { time: 198, text: "Galiba Her ≈ûey Ve Herkes ƒ∞√ßin En ƒ∞yisi" },
            { time: 201, text: "KENDƒ∞NE √áOK ƒ∞Yƒ∞ BAK" },
            { time: 203, text: "VE SENƒ∞ SEVDƒ∞ƒûƒ∞Mƒ∞ ASLA UNUTMA" },
            { time: 205, text: "Mƒ∞Nƒ∞K PRENSESƒ∞ME" },
            { time: 206, text: "-Mi√ßo" }
        ];

        let qIndex = 0; let lives = 5; let currentWord = ""; let guessed = [];
        const alphabet = ['A','B','C','√á','D','E','F','G','ƒû','H','I','ƒ∞','J','K','L','M','N','O','√ñ','P','R','S','≈û','T','U','√ú','V','Y','Z'];
        let currentStageIndex = -1;
        const audio = document.getElementById('bgMusic');

        window.onload = function() {
            startInfiniteSeaLife(); createParticles();
            loadGame(); initNoButton();
            populateLyrics(); initCredits(); setupAudioPlayer();
            document.getElementById('passwordInput').addEventListener("keypress", e => { if (e.key === "Enter") checkSecurity(); });
        };

        function populateLyrics() {
            const sideBox = document.getElementById('sideLyrics');
            const finalBox = document.getElementById('finalLyricsBox');
            let htmlContent = "";
            lyricsData.forEach((line, index) => {
                htmlContent += `<div class="lyric-line" id="line-${index}">${line.text}</div>`;
            });
            sideBox.innerHTML = htmlContent;
            finalBox.innerHTML = htmlContent;
        }

        function checkSecurity() {
            if(document.getElementById('passwordInput').value === sitePassword) {
                const ls = document.getElementById('lockScreen');
                ls.classList.remove('active'); ls.classList.add('sinking');
                setTimeout(() => { ls.classList.add('hidden'); nextStage(0); }, 600);
            } else {
                const err = document.getElementById('lockError'); err.style.display = 'block';
                const ls = document.getElementById('lockScreen');
                ls.classList.add('shake'); setTimeout(()=>ls.classList.remove('shake'), 500);
            }
        }
        function startJourney() { nextStage(1); }

        function nextStage(n) {
            let prevID = currentStageIndex === -1 ? 'lockScreen' : (currentStageIndex === 0 ? 'stage0' : 'stage' + currentStageIndex);
            const currentStage = document.getElementById(prevID);
            
            if(currentStage) {
                currentStage.classList.remove('active');
                currentStage.classList.add('sinking');
                setTimeout(() => { currentStage.classList.add('hidden'); currentStage.classList.remove('sinking'); }, 600);
            }
            
            currentStageIndex = n;
            const nextStage = document.getElementById('stage' + n);
            
            if(nextStage) {
                nextStage.classList.remove('hidden');
                setTimeout(() => {
                    nextStage.classList.add('active');
                    updateBackground(n);
                    
                    if(n === 2) {
                        setTimeout(() => placeNoBtnInitially(), 100);
                    }
                }, 100);
            }

            if(n===3) startPuzzle(3, puzzlePhotos[0]);
            if(n===4) startPuzzle(4, puzzlePhotos[1]);
        }

        function updateBackground(stage) {
            for(let i=0; i<=4; i++) document.getElementById('bg-level-'+i).style.opacity = '0';
            let level = 0; if(stage >= 1) level = 1; if(stage >= 3) level = 2; if(stage >= 4) level = 3; if(stage >= 6) level = 4;
            document.getElementById('bg-level-'+level).style.opacity = '1';
        }

        function startInfiniteSeaLife() { setInterval(spawnCreature, 1500); }
        function spawnCreature() {
            const container = document.getElementById('seaLife');
            const creatures = ['üê†','üê°','üêô','üê¨','üê≥','ü¶à','üê¢','ü¶Ä','ü™º'];
            const c = document.createElement('div'); c.className = 'sea-creature';
            c.innerText = creatures[Math.floor(Math.random() * creatures.length)];
            const startY = Math.random() * 90;
            const duration = Math.random() * 15 + 15;
            const isLeft = Math.random() > 0.5;
            c.style.top = startY + 'vh';
            c.style.animation = `${isLeft ? 'swimLeft' : 'swimRight'} ${duration}s linear forwards`;
            c.style.left = isLeft ? '110vw' : '-10vw';
            container.appendChild(c);
            setTimeout(() => { c.remove(); }, duration * 1000);
        }
        function createParticles() {
            const p = document.getElementById('particles');
            for(let i=0; i<40; i++) {
                let d = document.createElement('div'); d.className = 'particle';
                let s = Math.random()*5+2+'px'; d.style.width=s; d.style.height=s; 
                d.style.left=Math.random()*100+'%'; d.style.top=Math.random()*100+'%';
                d.style.animationDuration = Math.random()*20+10+'s'; p.appendChild(d);
            }
        }

        let fadeInterval;
        function fadeOutMusic() {
            clearInterval(fadeInterval);
            let vol = audio.volume;
            fadeInterval = setInterval(() => {
                if (vol > 0.05) {
                    vol -= 0.05;
                    audio.volume = vol;
                } else {
                    audio.volume = 0;
                    audio.pause();
                    clearInterval(fadeInterval);
                }
            }, 50);
        }

        function fadeInMusic() {
            clearInterval(fadeInterval);
            const volBar = document.getElementById('volumeBar');
            let targetVol = parseFloat(volBar.value);
            audio.volume = 0;
            audio.play();
            let vol = 0;
            fadeInterval = setInterval(() => {
                if (vol < targetVol - 0.05) {
                    vol += 0.05;
                    audio.volume = vol;
                } else {
                    audio.volume = targetVol;
                    clearInterval(fadeInterval);
                }
            }, 50);
        }

        function setupAudioPlayer() {
            const pBar = document.getElementById('progressBar');
            const vBar = document.getElementById('volumeBar');
            audio.addEventListener('timeupdate', () => {
                const percent = (audio.currentTime / audio.duration) * 100;
                pBar.value = percent || 0;
                pBar.style.background = `linear-gradient(to right, #1db954 ${percent}%, #535353 ${percent}%)`;
                document.getElementById('currentTime').innerText = formatTime(audio.currentTime);
                syncLyrics();
            });
            audio.addEventListener('loadedmetadata', () => document.getElementById('duration').innerText = formatTime(audio.duration));
            pBar.addEventListener('input', () => { audio.currentTime = (pBar.value / 100) * audio.duration; });
            vBar.addEventListener('input', () => { audio.volume = vBar.value; vBar.style.background = `linear-gradient(to right, #1db954 ${vBar.value*100}%, #535353 ${vBar.value*100}%)`; });
            audio.addEventListener('ended', () => document.getElementById('playIcon').className = 'fas fa-play');
        }
        function syncLyrics() {
            let activeIndex = -1;
            for (let i = 0; i < lyricsData.length; i++) {
                if (audio.currentTime >= lyricsData[i].time) activeIndex = i; else break;
            }
            if (activeIndex !== -1) {
                updateActiveLine(activeIndex, 'finalLyricsBox');
                updateActiveLine(activeIndex, 'sideLyrics');
            }
        }
        function updateActiveLine(index, containerId) {
            const container = document.getElementById(containerId);
            if(!container) return;
            const lines = container.getElementsByClassName('lyric-line');
            for(let line of lines) line.classList.remove('active');
            if(lines[index]) {
                lines[index].classList.add('active');
                lines[index].scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }
        function togglePlay() {
            const icon = document.getElementById('playIcon');
            if(audio.paused) { 
                const volBar = document.getElementById('volumeBar');
                audio.volume = parseFloat(volBar.value);
                audio.play(); 
                icon.className = 'fas fa-pause'; 
            }
            else { audio.pause(); icon.className = 'fas fa-play'; }
        }
        function formatTime(s) {
            if(isNaN(s)) return "0:00";
            const min = Math.floor(s/60); const sec = Math.floor(s%60);
            return `${min}:${sec<10?'0':''}${sec}`;
        }

        function startCredits() {
            const s5 = document.getElementById('stage5');
            s5.classList.remove('active'); s5.classList.add('sinking');
            setTimeout(()=>s5.classList.add('hidden'), 600);
            
            const video = document.getElementById('finalVideo');
            if(video) {
                let iframeSrc = video.src;
                video.src = iframeSrc;
            }

            const player = document.getElementById('musicPlayer');
            player.classList.add('visible');
            
            if(audio.paused) { 
                const volBar = document.getElementById('volumeBar');
                audio.volume = parseFloat(volBar.value);
                audio.play(); 
                document.getElementById('playIcon').className = 'fas fa-pause'; 
            }

            const wrapper = document.getElementById('stage6-wrapper');
            wrapper.style.display = 'flex';
            updateBackground(6);

            const scrollBox = document.getElementById('creditsScroll');
            const totalHeight = scrollBox.scrollHeight + window.innerHeight; 
            const duration = creditPhotos.length * 4; 
            
            scrollBox.animate([
                { top: '100vh' },
                { top: `-${totalHeight}px` }
            ], {
                duration: duration * 1000,
                easing: 'linear',
                fill: 'forwards'
            }).onfinish = () => {
                wrapper.style.opacity = '0';
                wrapper.style.transition = 'opacity 1s';
                setTimeout(() => { wrapper.style.display = 'none'; nextStage(7); }, 1000);
            };
        }
        
        function goBackToVideo() {
            const stage7 = document.getElementById('stage7');
            stage7.classList.remove('active');
            stage7.classList.add('sinking');
            
            document.getElementById('stage6-wrapper').style.display = 'none'; 
            
            fadeOutMusic();
            document.getElementById('musicPlayer').classList.remove('visible');

            setTimeout(() => {
                stage7.classList.add('hidden');
                stage7.classList.remove('sinking');
                
                const stage5 = document.getElementById('stage5');
                stage5.classList.remove('hidden');
                
                const s5Btn = document.getElementById('stage5Btn');
                s5Btn.innerText = "Kaldƒ±ƒüƒ±n Yerden Devam Et üéµ";
                s5Btn.onclick = resumeToStage7;

                setTimeout(() => {
                    stage5.classList.add('active');
                    updateBackground(5);
                    currentStageIndex = 5;
                }, 50);
            }, 600);
        }

        function resumeToStage7() {
            const video = document.getElementById('finalVideo');
            if(video) {
                let iframeSrc = video.src;
                video.src = iframeSrc;
            }

            const stage5 = document.getElementById('stage5');
            stage5.classList.remove('active');
            stage5.classList.add('sinking');

            setTimeout(() => {
                stage5.classList.add('hidden');
                stage5.classList.remove('sinking');

                const stage7 = document.getElementById('stage7');
                stage7.classList.remove('hidden');

                setTimeout(() => {
                    stage7.classList.add('active');
                    updateBackground(7); 
                    currentStageIndex = 7;
                    
                    document.getElementById('musicPlayer').classList.add('visible');
                    document.getElementById('playIcon').className = 'fas fa-pause';
                    fadeInMusic();
                }, 50);
            }, 600);
        }

        function initCredits() {
            const container = document.getElementById('creditsScroll');
            creditPhotos.forEach(photo => {
                let card = document.createElement('div'); card.className = 'credit-card';
                card.innerHTML = `<img src="${photo.img}" class="credit-img" onerror="this.src='https://picsum.photos/400/400?random=1'"><div class="credit-note">${photo.note}</div>`;
                container.appendChild(card);
            });
        }

        function loadGame() {
            currentWord = questions[qIndex].a.toLocaleUpperCase('tr-TR'); guessed = []; lives = 5;
            document.getElementById('questionText').innerText = questions[qIndex].q;
            document.getElementById('lives').innerHTML = "‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è";
            const display = document.getElementById('wordDisplay'); display.innerHTML = '';
            for (let char of currentWord) {
                let box = document.createElement('div'); box.className = 'letter-box';
                if (char === ' ') { box.style.border = 'none'; }
                display.appendChild(box);
            }
            const keyboard = document.getElementById('keyboard'); keyboard.innerHTML = '';
            alphabet.forEach(letter => {
                let key = document.createElement('div'); key.innerText = letter; key.className = 'key';
                key.onclick = () => handleGuess(letter, key); keyboard.appendChild(key);
            });
        }
        function handleGuess(l, k) {
            if (guessed.includes(l) || lives <= 0) return; guessed.push(l);
            if (currentWord.includes(l)) {
                k.classList.add('correct');
                const boxes = document.querySelectorAll('.letter-box'); let won = true;
                for (let i = 0; i < currentWord.length; i++) {
                    if (currentWord[i] === l) { boxes[i].innerText = l; boxes[i].classList.add('filled'); }
                    if (currentWord[i] !== ' ' && boxes[i].innerText === '') won = false;
                }
                if (won) setTimeout(() => { qIndex++; if (qIndex < questions.length) loadGame(); else nextStage(2); }, 1000);
            } else {
                k.classList.add('wrong'); lives--;
                let hearts = ""; for(let i=0; i<5; i++) hearts += (i < lives ? "‚ù§Ô∏è" : "üñ§");
                document.getElementById('lives').innerHTML = hearts;
                if (lives === 0) setTimeout(() => { alert("Tekrar dene!"); loadGame(); }, 500);
            }
        }

        /* --- KUSURSUZ KAMUFLE KA√áAN BUTON ALGORƒ∞TMASI --- */
        function placeNoBtnInitially() {
            const noBtn = document.getElementById('noBtn');
            const yesBtn = document.getElementById('yesBtn');
            const area = document.getElementById('btnArea');
            
            const areaRect = area.getBoundingClientRect(); 
            const yesRect = yesBtn.getBoundingClientRect();
            
            // Hayƒ±r butonunu TAM OLARAK Evet butonunun √ºst√ºne yerle≈ütir (Kamuflaj)
            const yesCenterX = (yesRect.left - areaRect.left) + (yesRect.width / 2);
            const yesCenterY = (yesRect.top - areaRect.top) + (yesRect.height / 2);
            
            const btnW = noBtn.offsetWidth || 180; 
            const btnH = noBtn.offsetHeight || 60; 
            
            noBtn.style.left = (yesCenterX - btnW / 2) + 'px';
            noBtn.style.top = (yesCenterY - btnH / 2) + 'px';
        }

        function initNoButton() {
            const noBtn = document.getElementById('noBtn');
            const yesBtn = document.getElementById('yesBtn');
            const area = document.getElementById('btnArea');

            function moveBtnLogic(e) {
                noBtn.classList.add('escaping'); // I≈üƒ±k hƒ±zƒ±nda (0.1s) ka√ßƒ±≈ü animasyonunu a√ß
                const areaRect = area.getBoundingClientRect(); 
                const yesRect = yesBtn.getBoundingClientRect();
                
                const yesX = yesRect.left - areaRect.left; 
                const yesY = yesRect.top - areaRect.top;
                const yesW = yesRect.width;
                const yesH = yesRect.height;

                const btnW = noBtn.offsetWidth || 180; 
                const btnH = noBtn.offsetHeight || 60; 
                const padding = 20; 
                const safeZone = 15; // Evet butonundan minimum uzaklƒ±k
                
                // Fare koordinatlarƒ±nƒ± al
                let mouseX = areaRect.width / 2;
                let mouseY = areaRect.height / 2;
                if (e && e.clientX) {
                    mouseX = e.clientX - areaRect.left;
                    mouseY = e.clientY - areaRect.top;
                } else if (e && e.touches && e.touches.length > 0) {
                    mouseX = e.touches[0].clientX - areaRect.left;
                    mouseY = e.touches[0].clientY - areaRect.top;
                }

                let bestX = 0, bestY = 0;
                let maxDist = -1;

                // Fareden en uzak, evet butonuyla √ßakƒ±≈ümayan en iyi noktayƒ± bul
                for (let i = 0; i < 50; i++) {
                    let rx = Math.random() * (areaRect.width - btnW - padding * 2) + padding;
                    let ry = Math.random() * (areaRect.height - btnH - padding * 2) + padding;

                    let overlapX = rx < (yesX + yesW + safeZone) && (rx + btnW) > (yesX - safeZone);
                    let overlapY = ry < (yesY + yesH + safeZone) && (ry + btnH) > (yesY - safeZone);

                    if (!(overlapX && overlapY)) {
                        let dist = Math.sqrt(Math.pow(rx + btnW/2 - mouseX, 2) + Math.pow(ry + btnH/2 - mouseY, 2));
                        if (dist > maxDist) {
                            maxDist = dist;
                            bestX = rx;
                            bestY = ry;
                        }
                    }
                }

                noBtn.style.left = bestX + 'px'; 
                noBtn.style.top = bestY + 'px';
            }

            noBtn.addEventListener('mouseover', (e) => { e.preventDefault(); moveBtnLogic(e); });
            noBtn.addEventListener('touchstart', (e) => { e.preventDefault(); moveBtnLogic(e); });
        }

        let selectedPiece = null;
        function startPuzzle(stageNum, photoUrl) {
            const container = document.getElementById(stageNum === 3 ? 'puzzle1' : 'puzzle2');
            const size = 3; let pieces = []; 
            let isMobile = window.innerWidth <= 768;
            const boxSize = isMobile ? 280 : 360; 
            
            container.style.width = boxSize + 'px';
            container.style.height = boxSize + 'px';

            for (let i = 0; i < size * size; i++) {
                let piece = document.createElement('div'); piece.className = 'puzzle-piece';
                piece.style.backgroundImage = `url('${photoUrl}')`; 
                piece.style.backgroundSize = `${boxSize}px ${boxSize}px`;
                let row = Math.floor(i / size); let col = i % size;
                piece.style.backgroundPosition = `${col * 50}% ${row * 50}%`; 
                piece.dataset.index = i; piece.onclick = function() { handlePieceClick(this, stageNum); };
                pieces.push(piece);
            }
            for (let i = pieces.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [pieces[i], pieces[j]] = [pieces[j], pieces[i]]; }
            container.innerHTML = ""; pieces.forEach(p => container.appendChild(p));
        }
        function handlePieceClick(piece, stageNum) {
            const nextBtn = document.getElementById(stageNum === 3 ? 'puzzleNext1' : 'puzzleNext2');
            if (!nextBtn.classList.contains('hidden')) return; 
            if (!selectedPiece) { selectedPiece = piece; piece.classList.add('selected'); } 
            else {
                let parent = piece.parentNode; let next = piece.nextSibling === selectedPiece ? piece : piece.nextSibling;
                const ph = document.createTextNode(''); parent.insertBefore(ph, selectedPiece);
                parent.insertBefore(selectedPiece, piece); parent.insertBefore(piece, ph); parent.removeChild(ph);
                selectedPiece.classList.remove('selected'); selectedPiece = null;
                let correct = true; const kids = parent.children;
                for(let i=0; i<kids.length; i++) if(parseInt(kids[i].dataset.index) !== i) correct = false;
                if(correct) {
                    parent.parentElement.style.display = 'none';
                    let img = document.getElementById(stageNum===3 ? 'fullImage1':'fullImage2');
                    let isMobile = window.innerWidth <= 768;
                    img.style.width = (isMobile ? 280 : 360) + 'px';
                    img.src = puzzlePhotos[stageNum===3?0:1]; img.style.display='block';
                    nextBtn.classList.remove('hidden');
                }
            }
        }
    </script>
</body>
</html>